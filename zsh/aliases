# Handle the fact that this file will be used with multiple OSs
platform=`uname`
if [[ $platform == 'Linux' ]]; then
  alias l='ls -lhg --color'
  alias ll='ls -lahg --color'
elif [[ $platform == 'Darwin' ]]; then
  alias l='ls -laG'
  alias ls='ls -laG'
  alias ll='ls -lG'
fi

alias c='cd'
alias c-='cd -'
alias cd-='echo "Use c- instead"'
alias ..='cd ../'
alias ...='cd ../..'
alias cd..='cd ..'
alias cd...='cd ../..'
alias cd....='cd ../../..'
alias cd.....='cd ../../../..'

alias aliases='vim ~/.dotfiles/zsh/aliases'
alias al='aliases'
alias b='bundle'
alias be='bundle exec'
alias bi='bundle install'
alias br='bundle exec rake'
alias beg='bundle exec guard'
alias bl='brew link --overwrite'
alias bld='brew link --overwrite --dry-run'
alias bower='noglob bower'
alias bu='bundle update'
alias bo='bundle open'
alias cls=clear
alias code='cd ~/code'
alias cpr='cp -r'
alias cw='compass watch'
alias dc='gdc'
alias dot='cd ~/.'
alias duh='du -csh'
alias functions='vim ~/.dotfiles/zsh/functions'
alias f='fg'
alias gib='gem install bundler'
alias history='fc -l 1'
alias histroy='history'
alias h='heroku'
alias ho='heroku open'
alias hc='heroku config'
alias hca='heroku config:add'
alias hcu='heroku config:unset'
alias hcr='heroku config:unset'
alias hl='heroku logs -t -n 5000'
alias irb='irb --readline -r irb/completion'
alias lcc='lein clean'
alias lca='lein cljsbuild auto dev'
alias ldi='lein deps install'
alias li='lineman'
alias lir='lineman run'
alias lib='lineman build'
alias lig='lineman grunt'
alias lis='lineman spec'
alias lic='lineman spec-ci'
alias lsd='lein start-dev'
alias mc='mvn compile'
alias mct='mvn test'
alias mi='mvn install'
alias mci='mvn clean install'
alias mp='mvn package'
alias mcp='mvn clean package'
alias opensource='cd ~/.personal-files/dev/open-source'
alias patch='git format-patch HEAD^ --stdout > patch.diff'
alias pi='yaourt -S' # wrapper around Arch Pacman
alias po='pacman -Qdt' # see orphaned packages
alias pr='yaourt -R'
alias pss='sudo pacman -Syu'
alias pu='yaourt -U'
alias reguard='killall -9 ruby ; guard'
alias r='rails'
alias rr='bundle exec rake release'
alias rb='rbenv'
alias rbg='rbenv gemset active'
alias rbp='cd $RBENV_PATH/versions/$(rbenv version | sed -e "s/ (set.*$//")'
alias rbl='cd $RBENV_PATH/versions/$(rbenv version | sed -e "s/ (set.*$//")/lib/ruby'
alias rg='rails generate'
alias rl='reload'
alias rmr='rm -rf'
alias rc='rails console'
alias rs='rails server'
alias reload='source ~/.zshrc'
alias s='cd ~/.ssh'
alias sc='vim ~/.ssh/config'
alias t='tree'
alias u='cd ..'
alias v='vim'
alias vi='vim'
alias vim='vim'
alias vh='vagrant halt'
alias vs='vagrant ssh'
alias vu='vagrant up'
alias vimrc='vim ~/.vimrc'

# Git
alias am='git commit --amend'
alias ama='git commit --amend -C head --author'
alias ams='git commit -S --amend' # signed
alias ammend='echo "use am instead"'
alias amend='echo "use am instead"'
alias g='gst'
alias ga='git add -A :/'
alias gaa='git add -A'
alias gaap='git add -Ap'
alias gau='git add --update'
alias gb='git branch'
alias gbd='git branch -D'
alias gbl='git branch --all'
alias gbm='git branch -m'
alias gbr='git branch -rv'
alias gbv='git branch -v'
alias gc='git commit'
alias gcs='git commit -S'
alias gcl='git clone'
alias gcm="git commit -m"
alias gcms="git commit -S -m"
alias gco='git checkout'
alias gcob='git checkout -b'
alias gcon='vi .git/config'
alias gcp='git cherry-pick'
alias gcpa='git cherry-pick --abort'
alias gcpc='git cherry-pick --continue'
alias gcps='git cherry-pick -n'
alias gd='git diff'
alias gdc='git diff --cached'
alias gdm='git diff master'
alias gds='git diff --stat=160,120'
alias gdw='git diff --color-words'
alias gf='git fetch'
alias gfa='git fetch --all'
alias gfix="git commit --amend -C HEAD"
alias gfixs="git commit -S -a --amend -C HEAD" # signed
alias gfo='git fetch origin'
alias gfm='git fetch origin master'
alias gfup='git fetch upstream'
alias ggrep='git log --all --oneline | grep '
alias gh="source ~/.githelpers && show_git_head"
alias gla='git lg --all'
alias gl='git lg -30'
alias gll='git lg'
alias gli='git show --pretty="format:" --name-only'
alias glog='git log'
alias gm='git merge'
alias gmnff='git merge --no-ff'
alias gmff='git merge --ff-only'
alias gmffm='git merge --ff-only master'
alias gmffs='git merge --ff-only --squash'
alias gmtheirs='git merge -Xtheirs'
alias gp='git push'
alias gpa='git push && echo "pushing tags..." && git push --tags'
alias gpd='git push && git push heroku master'
alias gpdf='gpf && gphf'
alias gpp='echo "Pushing Upstream master to production" && git push production master'
alias gppp='echo "Pushing to remotes first..." && git push origin master:master && git push upstream master:master && echo "Pushing upstream master to Production..." && git push production upstream/master:master'
alias gps='git push staging'
alias gpps='echo "Pushing Upstream master to staging" && git push staging upstream/master:master -f'
alias gppf='gpf && git push production HEAD:production -f'
alias gph='echo "pushing $(git symbolic-ref HEAD 2>/dev/null | cut -d"/" -f 3) to Heroku master" && git push heroku HEAD:master'
alias gphf='git push heroku master --force'
alias gpu='git push --set-upstream origin HEAD'
alias gpff='git pull --ff-only'
alias gpl='echo "you may want to use gpff instead" ; git pull'
alias gplup='git pull upstream master'
alias gpo='git push origin'
alias gpom='git push origin master'
alias gpr='git pull --rebase'
alias gpt='git push --tags'
alias gr='git reset'
alias gr1='git reset HEAD^1'
alias grb='git rebase'
alias grba='git rebase --abort'
alias grbc='git rebase --continue'
alias grbs='git rebase --skip'
alias grbi='git rebase -i'
alias grbm='git rebase master'
alias grbmi='git rebase master -i'
alias grbo='git fetch origin master && git rebase origin/master'
alias grboi='git fetch origin master && git rebase origin/master -i'
alias grbum='git fetch upstream master && git rebase upstream/master'
alias gre='git remote'
alias grea='git remote add'
alias gremo='git remote remove origin; git remote add origin'
alias greao='git remote add origin'
alias gref='git reflog'
alias grev='git remote -v'
alias grm='git rm'
alias grmr='git rm -r'
alias grp='git reset -p'
alias gsnapshot='git stash save "snapshot: $(date)" && git stash apply "stash@{0}"'
alias gsh='git show'
alias gst='git status'
alias gs='git stash'
alias gsk='git stash -k -u'
alias gss='git stash save'
alias gsd='git stash drop'
alias gsdl='git stash drop stash@{0}'
alias gsl='git stash list'
alias gsi='git stash -p'
alias gsp='git stash pop'
alias gsp1='git stash pop stash@{0}'
alias gsp2='git stash pop stash@{1}'
alias gsp3='git stash pop stash@{2}'
alias gsp4='git stash pop stash@{3}'
alias gsp5='git stash pop stash@{4}'
alias gsp6='git stash pop stash@{5}'
alias gt='git tag'
alias gta='git tag -a'
alias gtd='git tag -d'
alias gtl='git tag -l'
alias gx='git reset --hard'
alias gxx='git reset --hard HEAD~1'
alias gstats='echo "Total commits: $(git rev-list HEAD --count)"; echo "\nAuthor breakdown:"; git shortlog | grep -E "^[^ ]"'
alias gwip="git add . && git commit -m \"WIP\""

# Python
alias pys="venv/bin/python manage.py runserver"

# Notes
alias notes='cd ~/.personal-files/documents'
alias pn='vim ~/.personal-files/documents/Notes/stack.txt'
alias writing='cd ~/.personal-files/brain/writing'

# Projects
alias dev='cd ~/.personal-files/dev'
alias projects='cd ~/.personal-files/dev/projects'
alias dot='cd ~/.dotfiles'
alias work='cd ~/.work-files'
alias brain='cd ~/.personal-files/brain'

# Work
alias dh='git push heroku-staging master -f'

# Other aliases
source ~/.work-aliases
